# -------------------------------------------------------------
# ðŸ›  Default Profile â€“ local dev & CI
# -------------------------------------------------------------
[profile.default]
solc_version = "0.8.30"
evm_version = "prague"
optimizer = true
optimizer_runs = 10_000
ffi = true
src = "src"
out = "out"
via_ir = true
dynamic_test_linking = true
gas_reports = ["BLSPrecompilesBase","BLSBase"]
libs = ["dependencies"]
fs_permissions = [{ access = "read-write", path = "./" }]

# -------------------------------------------------------------
# ðŸ§ª Fuzz testing
# -------------------------------------------------------------
[fuzz]
runs = 200
timeout = 300 # seconds

# -------------------------------------------------------------
# ðŸ”„ Invariant testing
# -------------------------------------------------------------
[invariant]
runs = 200
min_successful = 40 # 20% of runs
timeout = 600

# -------------------------------------------------------------
# ðŸ§ª CI-specific profile
# -------------------------------------------------------------
[profile.ci]
verbosity = 4
timeout = 1200        # allow longer CI tests
fuzz_runs = 2000
invariant_runs = 2000

# -------------------------------------------------------------
# ðŸ§­ Formatting & linting
# -------------------------------------------------------------
[fmt]
auto_format = true

# -------------------------------------------------------------
# ðŸ’¾ Dependencies
# -------------------------------------------------------------
[dependencies]
forge-std = "1.14.0"